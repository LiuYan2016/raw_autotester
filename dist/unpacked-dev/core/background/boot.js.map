{"version":3,"sources":["webpack:///webpack/bootstrap 1c3c43d6cd28b69de9c6","webpack:///./src/background/boot/index.js","webpack:///./~/then-chrome/out/index.js","webpack:///./~/then-chrome/out/api.js","webpack:///./~/then-chrome/out/config.js","webpack:///./~/then-chrome/out/wrapper.js","webpack:///./~/then-chrome/out/object.js","webpack:///./src/utils/error-catcher.js","webpack:///./src/background/boot/error-handler.js","webpack:///./src/utils/index.js","webpack:///./~/escape-string-regexp/index.js","webpack:///./src/background/boot/browser-action.js","webpack:///./src/utils/smart-url-opener.js","webpack:///./src/background/constants.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACbA;;AAEA;AACA;AACA,EAAC;;AAED,uCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAU;AACV;AACA;AACA,qC;;;;;;;ACnCA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;;AAEA;;AAEA;AACA,YAAW,SAAS;AACpB,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,MAAK,IAAI;AACT;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,cAAc;AACzB,YAAW,cAAc;AACzB,YAAW,SAAS;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;ACzDA;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,qC;;;;;;ACzLA;;AAEA;AACA;AACA,EAAC;AACD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,cAAc;AACzB,YAAW,SAAS;AACpB,cAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,cAAc;AACzB,YAAW,SAAS;AACpB,cAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;;AAEA;AACA,wEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,cAAa;AACb;AACA;AACA;AACA,2EAA0E,eAAe;AACzF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA,2EAA0E,eAAe;AACzF;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,EAAE;AACb,YAAW,MAAM;AACjB,cAAa;AACb;AACA;AACA;AACA,E;;;;;;;ACjLA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa;AACb;AACA;;AAEA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa;AACb;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,cAAc;AACzB,cAAa;AACb;AACA;AACA;AACA,6EAA4E;AAC5E;AACA;AACA;AACA,E;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,UAAU,EAAE,iCAAiC;AACzE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3GA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA6B,YAAY;AACzC;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7CA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAmE,IAAI;AACvE;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG,IAAI;AACP;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,IAAI;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA,+CAA8C,kBAAkB;AAChE,oCAAmC,kBAAkB;AACrD;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvIA;;AAEA,+BAA8B;;AAE9B;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACVA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;ACTA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA,2CAA0C,aAAa;AACvD,mCAAkC,IAAI;AACtC,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC/BA","file":"core/background/boot.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1c3c43d6cd28b69de9c6","/**\n * Bootstrap before main bundle\n */\n\n// export thenChrome for debug\nwindow.thenChrome = require('then-chrome');\nconst errorCatcher = require('../../utils/error-catcher');\nconst errorHandler = require('./error-handler');\nconst browserAction = require('./browser-action');\n\n// catch all errors and proxy to ui\nerrorCatcher.attach(window, errorHandler);\n// set browserAction click handler to open ui\nbrowserAction.setup();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/background/boot/index.js\n// module id = 0\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _api = require('./api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar Thenable = getNativePromise();\n\n/**\n * Get native promise constructor\n * @returns {*}\n */\nfunction getNativePromise() {\n    if (typeof window !== 'undefined' && window.Promise) {\n        return window.Promise;\n    }\n    if (typeof global !== 'undefined' && global.Promise) {\n        return global.Promise;\n    }\n}\n\nif (!Thenable) {\n    throw new TypeError('Native promise does not support in your environment. Use /out/api function directly');\n}\n\n/**\n * @type {ThenChrome}\n */\nexports['default'] = (0, _api2['default'])(Thenable);\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/then-chrome/out/index.js\n// module id = 1\n// module chunks = 0 1 3","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports['default'] = create;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _wrapper = require('./wrapper');\n\nvar _object = require('./object');\n\n/**\n * @param {Function} Thenable\n * @returns {ThenChrome}\n */\n\nfunction create(Thenable) {\n    return Object.keys(_config2['default']).reduce(function (result, namespace) {\n        createNamespace(result, namespace);\n        return wrapMethods(result, namespace, _config2['default'][namespace], Thenable);\n    }, {});\n}\n\n/**\n * Create namespace\n * @param {Object} obj\n * @param {String} namespace\n * @returns {*}\n */\nfunction createNamespace(obj, namespace) {\n    var chromeNamespace = (0, _object.get)(obj, namespace);\n    if (!chromeNamespace) {\n        (0, _object.set)(obj, namespace);\n    }\n    return obj;\n}\n\n/**\n * @param {Object} obj\n * @param {String} namespace\n * @param {Object} data\n * @param {Array<String>} data.async\n * @param {Array<String>} data.sync\n * @param {Function} Promise constructor\n * @returns {Object}\n */\nfunction wrapMethods(obj, namespace, data, Promise) {\n    (0, _wrapper.wrapAsyncMethods)(obj, namespace, data.async, Promise);\n    (0, _wrapper.wrapSyncMethods)(obj, namespace, data.sync, Promise);\n    return obj;\n}\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/then-chrome/out/api.js\n// module id = 2\n// module chunks = 0 1 3","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports['default'] = {\n    alarms: {\n        async: ['get', 'getAll', 'clear', 'clearAll'],\n        sync: ['create']\n    },\n    bookmarks: {\n        async: ['get', 'getChildren', 'getRecent', 'getTree', 'getSubTree', 'search', 'create', 'move', 'update', 'remove', 'removeTree']\n    },\n    browserAction: {\n        async: ['getTitle', 'setIcon', 'getPopup', 'getBadgeText', 'getBadgeBackgroundColor'],\n        sync: ['setTitle', 'setPopup', 'setBadgeText', 'setBadgeBackgroundColor', 'enable', 'disable']\n    },\n    browsingData: {\n        async: ['settings', 'remove', 'removeAppcache', 'removeCache', 'removeCookies', 'removeDownloads', 'removeFileSystems', 'removeFormData', 'removeHistory', 'removeIndexedDB', 'removeLocalStorage', 'removePluginData', 'removePasswords', 'removeWebSQL']\n    },\n    commands: {\n        async: ['getAll']\n    },\n    contextMenus: {\n        async: ['create', 'update', 'remove', 'removeAll']\n    },\n    cookies: {\n        async: ['get', 'getAll', 'set', 'remove', 'getAllCookieStores']\n    },\n    'debugger': {\n        async: ['attach', 'detach', 'sendCommand', 'getTargets']\n    },\n    desktopCapture: {\n        async: ['chooseDesktopMedia'],\n        sync: ['cancelChooseDesktopMedia']\n    },\n    'devtools.inspectedWindow': {\n        async: ['eval', 'getResources'],\n        sync: ['reload']\n    },\n    'devtools.network': {\n        async: ['getHAR']\n    },\n    'devtools.panels': {\n        async: ['create', 'setOpenResourceHandler', 'openResource']\n    },\n    dial: {\n        async: ['discoverNow', 'fetchDeviceDescription']\n    },\n    downloads: {\n        async: ['download', 'search', 'pause', 'resume', 'cancel', 'getFileIcon', 'erase', 'removeFile', 'acceptDanger'],\n        sync: ['open', 'show', 'showDefaultFolder', 'drag', 'setShelfEnabled']\n    },\n    extension: {\n        async: ['isAllowedIncognitoAccess', 'isAllowedFileSchemeAccess'],\n        sync: ['getURL', 'getViews', 'getBackgroundPage', 'getExtensionTabs', 'setUpdateUrlData']\n    },\n    fontSettings: {\n        async: ['clearFont', 'getFont', 'setFont', 'getFontList', 'clearDefaultFontSize', 'getDefaultFontSize', 'setDefaultFontSize', 'clearDefaultFixedFontSize', 'getDefaultFixedFontSize', 'setDefaultFixedFontSize', 'clearMinimumFontSize', 'getMinimumFontSize', 'setMinimumFontSize']\n    },\n    gcm: {\n        async: ['register', 'unregister', 'send']\n    },\n    history: {\n        async: ['search', 'getVisits', 'addUrl', 'deleteUrl', 'deleteRange', 'deleteAll']\n    },\n    i18n: {\n        async: ['getAcceptLanguages', 'detectLanguage'],\n        sync: ['getMessage', 'getUILanguage']\n    },\n    identity: {\n        async: ['getAccounts', 'getAuthToken', 'getProfileUserInfo', 'removeCachedAuthToken', 'launchWebAuthFlow'],\n        sync: ['getRedirectURL']\n    },\n    idle: {\n        async: ['queryState'],\n        sync: ['setDetectionInterval']\n    },\n    instanceID: {\n        async: ['getID', 'getCreationTime', 'getToken', 'deleteToken', 'deleteID']\n    },\n    management: {\n        async: ['getAll', 'get', 'getSelf', 'getPermissionWarningsById', 'getPermissionWarningsByManifest', 'setEnabled', 'uninstall', 'uninstallSelf', 'launchApp', 'createAppShortcut', 'setLaunchType', 'generateAppForLink']\n    },\n    notifications: {\n        async: ['create', 'update', 'clear', 'getAll', 'getPermissionLevel']\n    },\n    omnibox: {\n        sync: ['setDefaultSuggestion']\n    },\n    pageAction: {\n        async: ['getTitle', 'setIcon', 'getPopup'],\n        sync: ['show', 'hide', 'setTitle', 'setPopup']\n    },\n    pageCapture: {\n        async: ['saveAsMHTML']\n    },\n    permissions: {\n        async: ['getAll', 'contains', 'request', 'remove']\n    },\n    'privacy.network.networkPredictionEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.alternateErrorPagesEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.autofillEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.passwordSavingEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.safeBrowsingEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.searchSuggestEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.spellingServiceEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.services.translationServiceEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.websites.hyperlinkAuditingEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.websites.referrersEnabled': {\n        async: ['get', 'set', 'clear']\n    },\n    'privacy.websites.thirdPartyCookiesAllowed': {\n        async: ['get', 'set', 'clear']\n    },\n    'proxy.settings': {\n        async: ['get', 'set', 'clear']\n    },\n    runtime: {\n        async: ['getBackgroundPage', 'openOptionsPage', 'setUninstallURL', 'requestUpdateCheck', 'sendMessage', 'sendNativeMessage', 'getPlatformInfo', 'getPackageDirectoryEntry'],\n        sync: ['getManifest', 'getURL', 'reload', 'restart', 'connect', 'connectNative']\n    },\n    sessions: {\n        async: ['getRecentlyClosed', 'getDevices', 'restore']\n    },\n    'storage.local': {\n        async: ['clear', 'get', 'set', 'remove', 'getBytesInUse']\n    },\n    'storage.managed': {\n        async: ['clear', 'get', 'set', 'remove', 'getBytesInUse']\n    },\n    'storage.sync': {\n        async: ['clear', 'get', 'set', 'remove', 'getBytesInUse']\n    },\n    'system.cpu': {\n        async: ['getInfo']\n    },\n    'system.memory': {\n        async: ['getInfo']\n    },\n    'system.storage': {\n        async: ['getInfo', 'ejectDevice', 'getAvailableCapacity']\n    },\n    tabCapture: {\n        async: ['capture', 'getCapturedTabs']\n    },\n    tabs: {\n        async: ['get', 'getCurrent', 'sendRequest', 'sendMessage', 'getSelected', 'getAllInWindow', 'create', 'duplicate', 'query', 'highlight', 'update', 'move', 'reload', 'remove', 'detectLanguage', 'captureVisibleTab', 'executeScript', 'insertCSS', 'setZoom', 'getZoom', 'setZoomSettings', 'getZoomSettings'],\n        sync: ['connect']\n    },\n    topSites: {\n        async: ['get']\n    },\n    tts: {\n        async: ['speak', 'isSpeaking', 'getVoices'],\n        sync: ['stop', 'pause', 'resume']\n    },\n    webNavigation: {\n        async: ['getFrame', 'getAllFrames']\n    },\n    webRequest: {\n        async: ['handlerBehaviorChanged']\n    },\n    windows: {\n        async: ['get', 'getCurrent', 'getLastFocused', 'getAll', 'create', 'update', 'remove']\n    }\n};\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/then-chrome/out/config.js\n// module id = 3\n// module chunks = 0 1 3","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports.wrapAsyncMethods = wrapAsyncMethods;\nexports.wrapSyncMethods = wrapSyncMethods;\n\nvar _object = require('./object');\n\n/**\n * chrome api object\n * @see https://developer.chrome.com/extensions/api_index\n */\nvar chromeApi = getChromeApi();\n\n/**\n * Create getters for async methods\n * @param {Object} obj\n * @param {String} namespace\n * @param {Array<String>} asyncMethods\n * @param {Function} Thenable\n * @returns {Object}\n */\n\nfunction wrapAsyncMethods(obj, namespace, asyncMethods, Thenable) {\n    if (asyncMethods === undefined) asyncMethods = [];\n\n    return asyncMethods.reduce(function (result, method) {\n        return appendAsyncMethod(obj, namespace, method, Thenable);\n    }, obj);\n}\n\n/**\n * Wrap sync methods to promise\n * @param {Object} obj\n * @param {String} namespace\n * @param {Array<String>} syncMethods\n * @param {Function} Thenable\n * @returns {*}\n */\n\nfunction wrapSyncMethods(obj, namespace, syncMethods, Thenable) {\n    if (syncMethods === undefined) syncMethods = [];\n\n    return syncMethods.reduce(function (result, method) {\n        return appendSyncMethod(obj, namespace, method, Thenable);\n    }, obj);\n}\n\n/**\n * Get chrome api object\n * @returns {chrome}\n */\nfunction getChromeApi() {\n    if (typeof window !== 'undefined' && window.chrome) {\n        return window.chrome;\n    }\n    if (typeof global !== 'undefined' && global.chrome) {\n        return global.chrome;\n    }\n}\n\n/**\n * Append async method to data\n * @param {Object} obj\n * @param {String} namespace\n * @param {String} method\n * @param {Function} Thenable\n * @returns {Object}\n */\nfunction appendAsyncMethod(obj, namespace, method, Thenable) {\n    var data = (0, _object.get)(obj, namespace);\n    Object.defineProperty(data, method, {\n        get: function get() {\n            return wrapAsyncMethod(Thenable, namespace, method);\n        }\n    });\n    return obj;\n}\n\n/**\n * Wrap sync method\n * @param {Function} Thenable\n * @param {String} namespace\n * @param {String} method\n * @returns {Function}\n */\nfunction wrapAsyncMethod(Thenable, namespace, method) {\n    var _this = this;\n\n    return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return new Thenable(function (resolve, reject) {\n            var chromeNamespace = (0, _object.get)(chromeApi, namespace);\n            args.push(getResolver(resolve, reject, _this));\n            apply(chromeNamespace[method], chromeNamespace, args);\n        });\n    };\n}\n\n/**\n *\n * @param {Function} resolve\n * @param {Function} reject\n * @param {*} context\n * @returns {Function}\n */\nfunction getResolver(resolve, reject, context) {\n    return function () {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n        }\n\n        if (chromeApi.runtime.lastError) {\n            return reject(chromeApi.runtime.lastError);\n        }\n        return apply(resolve, context, args);\n    };\n}\n\n/**\n * Append sync method\n * @param {Object} obj\n * @param {String} namespace\n * @param {String} method\n * @param {Function} PromiseConstructor\n * @returns {Object}\n */\nfunction appendSyncMethod(obj, namespace, method, PromiseConstructor) {\n    var data = (0, _object.get)(obj, namespace);\n    Object.defineProperty(data, method, {\n        get: function get() {\n            return wrapSyncMethod(PromiseConstructor, namespace, method);\n        }\n    });\n    return obj;\n}\n\n/**\n * Wrap sync method\n * @param {Function} Thenable\n * @param {String} namespace\n * @param {String} method\n * @returns {Function}\n */\nfunction wrapSyncMethod(Thenable, namespace, method) {\n    return function () {\n        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n        }\n\n        return new Thenable(function (resolve, reject) {\n            var chromeNamespace = (0, _object.get)(chromeApi, namespace);\n            try {\n                return resolve(apply(chromeNamespace[method], chromeNamespace, args));\n            } catch (e) {\n                return reject(e);\n            }\n        });\n    };\n}\n\n/**\n * For IE compatibility we can't use method.apply.\n *\n * Function apply\n * @param {Function} method\n * @param {*} context\n * @param {Array} args\n * @returns {*}\n */\nfunction apply(method, context, args) {\n    return Function.prototype.apply.call(method, context, args);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/then-chrome/out/wrapper.js\n// module id = 4\n// module chunks = 0 1 3","/**\n * Get nested object by path\n * @param {Object} object\n * @param {String} path\n * @param {String} [delimiter]\n * @returns {Object|Null}\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports.get = get;\nexports.set = set;\n\nfunction get(object, path) {\n    var delimiter = arguments.length <= 2 || arguments[2] === undefined ? '.' : arguments[2];\n\n    var keys = path.split(delimiter);\n    var data = object;\n\n    for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (!data[key]) {\n            return null;\n        }\n        data = data[key];\n    }\n    return data;\n}\n\n/**\n * Create nested object by path\n * @param {Object} obj\n * @param {String} path\n * @param {String} [delimiter]\n * @returns {*}\n */\n\nfunction set(obj, path) {\n    var delimiter = arguments.length <= 2 || arguments[2] === undefined ? '.' : arguments[2];\n\n    return createNestedObject(obj, path.split(delimiter));\n}\n\n/**\n * Create nested objects\n * @param {Object} obj\n * @param {Array<String>} keys\n * @returns {*}\n */\nfunction createNestedObject(obj, keys) {\n    if (keys.length) {\n        var nested = obj[keys[0]] = typeof obj[keys[0]] === 'undefined' ? {} : obj[keys[0]];\n        createNestedObject(nested, keys.slice(1, keys.length));\n    }\n    return obj;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/then-chrome/out/object.js\n// module id = 5\n// module chunks = 0 1 3","/**\n * Catches all unhandled errors and unhandled promise rejections, and pass them to specified handler\n * Can avoid circular errors and store errors until handler attached.\n *\n * todo: event for promise can contain any value, not only Error !!\n * todo: store errors until handler set\n *\n * see: https://developer.mozilla.org/en/docs/Web/API/GlobalEventHandlers/onerror\n * see: https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onunhandledrejection\n */\n\n/**\n * If the same error comes within this timeout, we ignore it to avoid endless loop\n * Timeout is progressively increased\n */\nconst EQUAL_ERRORS_TIMEOUT_MIN = 50;\nconst EQUAL_ERRORS_TIMEOUT_MAX = 60 * 1000;\n\nlet currentTimeout = null;\nlet handler = null;\nlet lastErrorEvent = null;\n\n/**\n * Attach to window for catching errors\n *\n * @param {Window} win\n * @param {Function} [handler]\n */\nexports.attach = function (win, handler) {\n  win.addEventListener('error', processError);\n  win.addEventListener('unhandledrejection', processError);\n  resetTimeout();\n  if (handler) {\n    exports.setHandler(handler);\n  }\n};\n\n/**\n * Sets handler to process errors\n * @param {Function} newHandler\n */\nexports.setHandler = function (newHandler) {\n  if (typeof newHandler === 'function') {\n    handler = newHandler;\n  } else {\n    throw new Error('Error handler should be function');\n  }\n};\n\nfunction processError(errorEvent) {\n  if (isEqualEvents(lastErrorEvent, errorEvent)) {\n    if (getEventsDelta(lastErrorEvent, errorEvent) <= currentTimeout) {\n      lastErrorEvent = errorEvent;\n      errorEvent.preventDefault();\n      return;\n    } else {\n      increaseTimeout();\n    }\n  } else {\n    resetTimeout();\n  }\n  lastErrorEvent = errorEvent;\n  if (handler) {\n    const error = getErrorFromEvent(errorEvent);\n    // run handler in nextTick to catch handler-own instant errors normally\n    setTimeout(() => {\n      handler(error, errorEvent);\n    }, 0);\n  }\n}\n\nfunction isEqualEvents(errorEvent1, errorEvent2) {\n  if (!errorEvent1 || !errorEvent2 || errorEvent1.type !== errorEvent2.type) {\n    return false;\n  }\n  const error1 = getErrorFromEvent(errorEvent1);\n  const error2 = getErrorFromEvent(errorEvent2);\n  return error1 === error2 ||\n    (error1.message === error2.message && error1.stack === error2.stack);\n}\n\nfunction getEventsDelta(event1, event2) {\n  return Math.abs(event1.timeStamp - event2.timeStamp);\n}\n\nfunction getErrorFromEvent(errorEvent) {\n  // here can be instance of PromiseRejectionEvent or ErrorEvent\n  const errorValue = errorEvent.promise ? errorEvent.reason : errorEvent.error;\n  const inPromise = errorEvent.promise ? '(in promise) ' : '';\n  return errorValue instanceof Error\n    ? errorValue\n    : new Error(`Uncaught ${inPromise}${errorValue.message || errorValue}`);\n}\n\nfunction resetTimeout() {\n  if (currentTimeout !== EQUAL_ERRORS_TIMEOUT_MIN) {\n    currentTimeout = EQUAL_ERRORS_TIMEOUT_MIN;\n  }\n}\n\nfunction increaseTimeout() {\n  if (currentTimeout < EQUAL_ERRORS_TIMEOUT_MAX) {\n    currentTimeout = currentTimeout * 2;\n    if (currentTimeout > EQUAL_ERRORS_TIMEOUT_MAX) {\n      currentTimeout = EQUAL_ERRORS_TIMEOUT_MAX;\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils/error-catcher.js\n// module id = 6\n// module chunks = 0 3","/**\n * Handler for uncaught errors that proxies it to ui\n * Prefix not useful as there can be errors in tests that are executed in background.\n */\n\nconst utils = require('../../utils');\n\n/**\n * For that error we show additional warning with link to chrome://flags\n */\nconst CHROME_URL_ACCESS_ERROR = 'Cannot access a chrome-extension:// URL of different extension';\n\nmodule.exports = function (error) {\n  const msg = getMsg(error);\n  processChromeUrlAccessError(msg);\n  if (error.isMocha) {\n    // don't display mocha errors as mocha do it itself\n    return;\n  }\n  showInAllViews('error', msg);\n};\n\nfunction showInAllViews(method/*, msg1, msg2, ...*/) {\n  const args = Array.prototype.slice.call(arguments, 1);\n  chrome.extension.getViews({type: 'tab'}).forEach(view => {\n    if (view.htmlConsole) {\n      view.htmlConsole[method].apply(view.htmlConsole, args);\n    }\n  });\n}\n\nfunction getMsg(error) {\n  return typeof error === 'object'\n    ? (utils.cleanStack(error.stack) || error.message || error.name)\n    : String(error);\n}\n\nfunction processChromeUrlAccessError(msg) {\n  if (typeof msg === 'string' && msg.indexOf(CHROME_URL_ACCESS_ERROR) >= 0) {\n    showInAllViews(\n      'warn',\n      'Please enable chrome flag to allow debug of extensions',\n      'chrome://flags/#extensions-on-chrome-urls'\n    )\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/background/boot/error-handler.js\n// module id = 7\n// module chunks = 0","/**\n * Utils\n */\n\nconst escapeStringRegexp = require('escape-string-regexp');\n\n/**\n * Loads script via <script> tag\n *\n * @param {String} url\n * @param {Object} targetDocument\n * @returns {Promise}\n */\nexports.loadScript = function (url, doc = document) {\n  return new Promise(function (resolve, reject) {\n    const script = doc.createElement('script');\n    script.type = 'text/javascript';\n    doc.getElementsByTagName('head')[0].appendChild(script);\n    script.onload = () => resolve(script);\n    script.onerror = () => reject(new Error(`Can not load script ${url}`));\n    script.src = url;\n  });\n};\n\n/**\n * Remove elements by selector\n *\n * @param {String} selector\n * @param {Document} [doc]\n */\nexports.removeBySelector = function (selector, doc = document) {\n  [].forEach.call(doc.querySelectorAll(selector), el => {\n    el.parentNode.removeChild(el);\n  });\n};\n\n/**\n * Fetch script via window.fetch\n *\n * @param {String} url\n * @returns {Promise}\n */\nexports.fetchText = function (url) {\n  return window.fetch(url)\n    .then(r => r.text())\n};\n\n/**\n * Throws error in next tick\n *\n * @param {Error} error\n */\nexports.asyncThrow = function (error) {\n  setTimeout(() => {\n    throw error;\n  }, 0);\n};\n\n/**\n * Copies object without first-level undefined props\n * Useful for using Object.assign to set defaults\n *\n * @param {Object} obj\n */\nexports.noUndefined = function (obj) {\n  return Object.keys(obj).reduce((res, key) => {\n    if (obj[key] !== undefined) {\n      res[key] = obj[key];\n    }\n    return res;\n  }, {})\n};\n\n\n/**\n * Trim slashes\n *\n * @param {String} str\n * @returns {String}\n */\nexports.trimSlashes = function (str) {\n  return str.replace(/^\\/+|\\/+$/g, '');\n};\n\n/**\n * Remove useless paths from error stack:\n * - filesystem:chrome-extension://cidkhbpkgpdkadkjpkfooofilpmfneog/persistent/\n * - chrome-extension://cidkhbpkgpdkadkjpkfooofilpmfneog/\n *\n * @param {String} stack\n */\nexports.cleanStack = function(stack) {\n  if (typeof stack !== 'string') {\n    return stack;\n  }\n  const url = chrome.runtime.getURL('');\n  const urlFs = `filesystem:${url}persistent/`;\n  const urlRe = new RegExp(escapeStringRegexp(url), 'g');\n  const urlFsRe = new RegExp(escapeStringRegexp(urlFs), 'g');\n  return stack\n    .replace(urlFsRe, '')\n    .replace(urlRe, '')\n};\n\n/**\n * Cuts local url\n *\n * @param {String} localUrl\n */\nexports.cutLocalUrl = function (localUrl) {\n  return localUrl\n    .replace(`filesystem:chrome-extension://${chrome.runtime.id}/persistent/`, '')\n    .replace(`chrome-extension://${chrome.runtime.id}/`, '');\n};\n\n/**\n * Is valid url\n *\n * @param {String} str\n */\nexports.isValidUrl = function (str) {\n  try {\n    new URL(str);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\n/**\n * Safer version of path.join() that can also join url with path\n * (lib from node-browserify remove second slash after protocol `http://abc` --> `http:/abc`)\n */\nexports.join = function () {\n  return [].map.call(arguments, arg => exports.trimSlashes(arg)).join('/');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils/index.js\n// module id = 8\n// module chunks = 0 1 3","'use strict';\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(matchOperatorsRe, '\\\\$&');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/escape-string-regexp/index.js\n// module id = 9\n// module chunks = 0 1 3","/**\n * Setup browser action to open Autotester UI\n */\n\nconst smartUrlOpener = require('../../utils/smart-url-opener');\nconst constants = require('../constants');\n\nexports.setup = function () {\n  chrome.browserAction.onClicked.addListener(() => smartUrlOpener.open(constants.UI_URL));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/background/boot/browser-action.js\n// module id = 10\n// module chunks = 0","/**\n * Open urls via chrome api:\n * - check existing tabs and activate instead of opening the same url\n * - can listen <A> clicks and open system chrome:// urls\n */\n\nconst thenChrome = require('then-chrome');\n\nexports.open = function (url) {\n  thenChrome.tabs.query({})\n    .then(tabs => {\n      const tab = tabs.find(tab => tab.url === url);\n      return tab\n        ? thenChrome.tabs.update(tab.id, {active: true})\n        : thenChrome.tabs.create({url});\n    })\n};\n\nexports.listen = function () {\n  document.body.addEventListener('click', onClick);\n};\n\nexports.stop = function () {\n  document.body.removeEventListener('click', onClick);\n};\n\nfunction onClick(event) {\n  const target = event.target;\n  if (target.tagName === 'A' && target.href) {\n    event.preventDefault();\n    exports.open(target.href);\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils/smart-url-opener.js\n// module id = 11\n// module chunks = 0 3","\nexports.UI_URL = chrome.runtime.getURL('core/ui/ui.html');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/background/constants.js\n// module id = 12\n// module chunks = 0 1"],"sourceRoot":""}